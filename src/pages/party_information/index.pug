#container.wrap-content.container
    section#page-title
        .row
            .col-sm-8
                h1.mainTitle Master Files
                span.mainDescription Chart of Accounts
            ol.breadcrumb
                li
                    span Master Files
                li
                    span Chart of Accounts
                li
                    span Subsidiary
                li.active
                    span Party Information
    .container-fluid.container-fullw.bg-white
        .row
            .col-md-12
                .row
                    .col-md-6
                        h2 Party Information.
                .row
                    .col-md-12
                        .form-group
                            .row
                                .col-md-4
                                    div.text-center(v-if='dataLoad2')
                                        i.fa.fa-refresh.fa-spin.fa-fw.fa-2x
                                    select.form-control(v-else v-model='sel_party')
                                        option(value='') Select Party Information
                                        option(v-for='(row, key, ind) in partyData' v-bind:value='key') {{ row.contact_name }} | {{ row.agent_name }}
                hr
                form(v-on:submit.prevent="")
                    .row(v-if='errMain !== "" || sucMain !== ""')
                        .col-md-12
                            p.alert.alert-danger(v-if="errMain !== ''") {{ errMain }}
                            p.alert.alert-success(v-if="sucMain !== ''") {{ sucMain }}
                    .row
                        .col-md-12
                            .form-group
                                label
                                    | Contact Name
                                input.form-control(type='text' placeholder='Enter your Contact Name' v-model='contact_name')
                                p.text-danger.text-right(v-if='validation.hasError("contact_name")') {{ validation.firstError('contact_name') }}
                    .row
                        .col-md-12
                            .form-group
                                label
                                    | Agent Code
                                .row
                                    .col-md-4
                                        input.form-control(type='text' placeholder='Enter your Agent Code' v-model='agent_code')
                                        p.text-danger.text-right(v-if='validation.hasError("agent_code")') {{ validation.firstError('agent_code') }}
                                    .col-md-8
                                        input.form-control(type='text' placeholder='Enter your Agent Name' v-model='agent_name')
                                        p.text-danger.text-right(v-if='validation.hasError("agent_name")') {{ validation.firstError('agent_name') }}
                    .row
                        .col-md-6
                            .form-group
                                label
                                    | Address
                                .row
                                    .col-md-12
                                        input.form-control(type='text' placeholder='Enter your Address' v-model='address')
                                        p.text-danger.text-right(v-if='validation.hasError("address")') {{ validation.firstError('address') }}
                        .col-md-6
                            com_cities(ref='sel_city')
                    .row
                        .col-md-6
                            .form-group
                                label
                                    | Category
                                div.text-center(v-if='dataLoad1')
                                    i.fa.fa-refresh.fa-spin.fa-fw.fa-2x
                                select.form-control(v-else v-model='sel_category')
                                    option(value='') Select Category
                                    option(v-for='(row, key, ind) in pCatData' v-bind:value='key') {{ row.name }}
                                p.text-danger.text-right(v-if='validation.hasError("sel_category")') {{ validation.firstError('sel_category') }}
                        .col-md-6
                            .form-group
                                label
                                    | Group Code
                                input.form-control(type='text' placeholder='Enter your Group Code' v-model='group_code')
                                p.text-danger.text-right(v-if='validation.hasError("group_code")') {{ validation.firstError('group_code') }}
                    .row
                        .col-md-6
                            .form-group
                                label
                                    | Phone Number
                                input.form-control(type='tel' placeholder='Enter your Phone number' v-model='phone_num')
                                p.text-danger.text-right(v-if='validation.hasError("phone_num")') {{ validation.firstError('phone_num') }}
                        .col-md-6
                            .form-group
                                label
                                    | fax Number
                                input.form-control(type='text' placeholder='Enter your Fax number' v-model='fax_num')
                                p.text-danger.text-right(v-if='validation.hasError("fax_num")') {{ validation.firstError('fax_num') }}
                    .row
                        .col-md-6
                            .form-group
                                label
                                    | Email
                                input.form-control(type='email' placeholder='Enter your Email' v-model='email')
                                p.text-danger.text-right(v-if='validation.hasError("email")') {{ validation.firstError('email') }}
                                .text-right(v-if='validation.isValidating("email")')
                                    i.fa.fa-spinner.fa-spin
                        .col-md-6
                            .form-group
                                label
                                    | NIC Number
                                input.form-control(type='text' placeholder='Enter your NIC Number' v-model='nic_num')
                                p.text-danger.text-right(v-if='validation.hasError("nic_num")') {{ validation.firstError('nic_num') }}
                    .row
                        .col-md-6
                            .form-group
                                label
                                    | NTN Number
                                input.form-control(type='text' placeholder='Enter your NTN Number' v-model='ntn_num')
                                p.text-danger.text-right(v-if='validation.hasError("ntn_num")') {{ validation.firstError('ntn_num') }}
                        .col-md-6
                            .form-group
                                label
                                    | GST Number
                                input.form-control(type='text' placeholder='Enter your GST Number' v-model='gst_num')
                                p.text-danger.text-right(v-if='validation.hasError("gst_num")') {{ validation.firstError('gst_num') }}
                    .row
                        .col-md-6
                            .form-group
                                label
                                    | CR Day
                                input.form-control(type='text' placeholder='Enter your CR Day' v-model='cr_day')
                                p.text-danger.text-right(v-if='validation.hasError("cr_day")') {{ validation.firstError('cr_day') }}
                        .col-md-6
                            .form-group
                                label
                                    | CR Limit
                                input.form-control(type='text' placeholder='Enter your CR Limit' v-model='cr_limit')
                                p.text-danger.text-right(v-if='validation.hasError("cr_limit")') {{ validation.firstError('cr_limit') }}
                    .row
                        .col-md-4.pull-right
                            button.btn.btn-lg.btn-primary.btn-wide.pull-right(type='button' disabled='disabled' v-if="inProcess")
                                i.fa.fa-refresh.fa-spin.fa-fw
                            template(v-else)
                                button.btn.btn-lg.btn-primary.btn-wide.pull-right(v-if="updateP" type='button' v-on:click.prevent='updateParty')
                                    | Update&nbsp;
                                    i.fa.fa-arrow-circle-right
                                button.btn.btn-lg.btn-primary.btn-wide.pull-right(v-else type='button' v-on:click.prevent='createParty')
                                    | Submit&nbsp;
                                    i.fa.fa-arrow-circle-right

