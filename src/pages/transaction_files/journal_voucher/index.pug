#container.wrap-content.container
    section#page-title
        .row
            .col-sm-8
                h1.mainTitle Transaction Files
                span.mainDescription Journal Voucher
            ol.breadcrumb
                li
                    span Master Files
                li.active
                    span Master Detail
    .container-fluid.container-fullw.bg-white
        .row
            .col-md-12
                h2 Journal Voucher
                .row
                    .col-md-12
                        .form-group
                            .row
                                .col-md-4
                                    div.text-center(v-if='dataLoad2')
                                        i.fa.fa-refresh.fa-spin.fa-fw.fa-2x
                                    select.form-control(v-else)
                                        option(value='') Select Voucher
                                        option(v-for='(row, key, ind) in vouchersData' v-bind:value='key') {{ row.id }} | {{ row.v_remarks }}
                hr
                p
                    | Create one Journal Voucher.
                form(v-on:submit.prevent='')
                    .row
                        .col-md-12(v-if='errMain !== "" || sucMain !== ""')
                            p.alert.alert-danger(v-if="errMain !== ''") {{ errMain }}
                            p.alert.alert-success(v-if="sucMain !== ''") {{ sucMain }}
                        .col-md-12
                            .row
                                .col-md-6
                                    .form-group
                                        label
                                            | Voucher ID
                                        input.form-control(type='text' placeholder='Enter your Voucher ID' v-model='voucher_id')
                                        p.text-danger.text-right(v-if='validation.hasError("voucher_id")') {{ validation.firstError('voucher_id') }}
                                        .text-right(v-if='validation.isValidating("voucher_id")')
                                            i.fa.fa-spinner.fa-spin
                                    .form-group
                                        label
                                            | NBR
                                        input.form-control(type='text' placeholder='Enter your NBR' v-model='nbr_number')
                                        p.text-danger.text-right(v-if='validation.hasError("nbr_number")') {{ validation.firstError('nbr_number') }}
                                    .form-group
                                        label
                                            | Remark
                                        input.form-control(type='text' placeholder='Enter Remarks' v-model='v_remarks')
                                        p.text-danger.text-right(v-if='validation.hasError("v_remarks")') {{ validation.firstError('v_remarks') }}
                                    .form-group
                                        label
                                            | Posted Y/N
                                        .clip-radio.radio-primary
                                            input#p_yes(type='radio', value='Yes', v-model='posted_status')
                                            label(for='p_yes')
                                                | Yes
                                            input#p_no(type='radio', value='No', v-model='posted_status')
                                            label(for='p_no')
                                                | No
                                            p.text-danger.text-right(v-if='validation.hasError("posted_status")') {{ validation.firstError('posted_status') }}
                                .col-md-6
                                    .form-group
                                        label
                                            | Reference Number
                                        input.form-control(type='text' placeholder='Enter your Reference Number')
                                        //p.text-danger.text-right(v-if='validation.hasError("gender")') {{ validation.firstError('gender') }}
                                    .form-group
                                        label
                                            | Project
                                        div.text-center(v-if='dataLoad1')
                                            i.fa.fa-refresh.fa-spin.fa-fw.fa-2x
                                        template(v-else)
                                            select.form-control(v-model='sel_project')
                                                option(value='') Select Project
                                                option(v-for='(row, key, ind) in proData' v-bind:value='key') {{ row.name }}
                                            p.text-danger.text-right(v-if='validation.hasError("sel_project")') {{ validation.firstError('sel_project') }}
                                    .form-group
                                        label
                                            | Voucher Date
                                        input.form-control.datepicker.voucher_date(type='text' placeholder='Enter your Voucher Date')
                                        p.text-danger.text-right(v-if='validation.hasError("voucher_date")') {{ validation.firstError('voucher_date') }}
                            h2 Account Detail
                            .row.detail-heading
                                .col-md-1 Account Code
                                .col-md-2 Account Description
                                .col-md-4 Remark
                                .col-md-1 Quantity
                                .col-md-2 Debit
                                .col-md-2 Credit
                            .detail-Content.form-group
                                template(v-for='n in 6')
                                    .row(v-bind:class='"row-"+n')
                                        .col-md-1.padding-right-0
                                            get-codes(v-bind:project='sel_project' v-on:name_change="changeCode($event, n-1)")
                                        .col-md-2.padding-none
                                            input.form-control(type='text' v-bind:value="rows[n-1].code_name" disabled='disabled')
                                        .col-md-4.padding-none
                                            input.form-control(type='text' v-model='rows[n-1].remarks')
                                        .col-md-1.padding-none
                                            input.form-control(type='text' v-model='rows[n-1].quantity')
                                        .col-md-2.padding-none
                                            input.form-control(type='text' v-model='rows[n-1].debit')
                                        .col-md-2.padding-left-0
                                            input.form-control(type='text' v-model='rows[n-1].credit')
                                .row.Total
                                    .col-md-2.padding-right-0
                                        p.margin-bottom-0(style='line-height: 33px;')
                                            | JV Difference
                                            | < Debit / Credit >
                                    .col-md-2.padding-none
                                        input.form-control(type='text' disabled='disabled' v-bind:value='total_debit - total_credit')
                                    .col-md-2.padding-none
                                    .col-md-2.padding-none
                                        h3.margin-bottom-0(style='line-height: 33px;') Total
                                    .col-md-2.padding-none
                                        input.form-control(type='text' v-bind:value='total_debit' disabled='disabled')
                                    .col-md-2.padding-left-0
                                        input.form-control(type='text' v-bind:value='total_credit' disabled='disabled')
                    .row
                        .col-md-4.pull-right
                            button.btn.btn-primary.btn-wide.pull-right(v-if="inProcess" type='button' disabled='disabled')
                                i.fa.fa-refresh.fa-spin.fa-fw
                            button.btn.btn-primary.btn-wide.pull-right(v-else type='button' v-on:click.prevent='addVoucher')
                                | Submit&nbsp;
                                i.fa.fa-arrow-circle-right
